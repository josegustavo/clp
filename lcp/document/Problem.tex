\section{Formulación del problema}

El siguiente problema está basado en una situación real de una empresa que se dedica a la venta de productos y al envío de los mismos a sus compradores o clientes a través de contenedores marítimos.

El desafío principal al que se enfrenta la empresa es optimizar el proceso de envío de productos a sus clientes, maximizando el uso del espacio en los contenedores. Los clientes suelen hacer pedidos de varios productos en cantidades estimadas, pero generalmente no están familiarizados con las dimensiones de las cajas de cada tipo de producto. Esto dificulta determinar si un pedido puede llenar completamente un contenedor. Por su parte, la empresa maneja productos de diferentes tamaños, pesos y valores, y cada pedido se embala en cajas que varían según estas características. La empresa se encarga de llenar un contenedor con los productos solicitados para un cliente específico. No obstante, si el contenedor no se llena por completo, se produce un desperdicio de espacio. Este desperdicio no solo representa una pérdida financiera para el cliente, quien paga la tarifa completa de envío independientemente del llenado del contenedor, sino también para la empresa, que no maximiza el valor de la carga transportada. Además, el espacio no utilizado tiene un impacto negativo en el medio ambiente, dado que cada viaje consume combustible y genera emisiones contaminantes, independientemente de la eficiencia de carga del contenedor.

Para contrarrestar este inconveniente, la empresa puede sugerir al cliente incrementar la cantidad de productos en su pedido, aprovechando que el costo de envío del contenedor es fijo, es decir el costo es el mismo independientemente de si el contenedor está lleno o no, de este modo, también lograría aumentar la venta de productos manteniendo el mismo costo de envío. En situaciones donde el pedido excede la capacidad de un contenedor, se hace necesario utilizar dos o más contenedores, multiplicando los costos de envío. Ante este escenario, la empresa puede proponer dos alternativas: aumentar la cantidad de productos solicitada inicialmente para justificar el uso de más contenedores completamente llenos, o bien, reducir la cantidad de productos para ajustar el pedido a un solo contenedor, eliminando preferentemente los productos de menor valor. Esta estrategia busca maximizar tanto el valor de la carga como la utilización del espacio disponible en los contenedores.

Las variaciones en las cantidades de productos pedidos son justificables, dado que los clientes, usualmente distribuidores, no tienen urgencia en recibir los productos. Esto les permite esperar hasta que un contenedor esté completamente lleno para proceder con el envío. Adicionalmente, la empresa puede incentivar a los clientes a incrementar las cantidades de sus pedidos mediante descuentos o promociones. Esta estrategia resulta beneficiosa tanto para la empresa, que optimiza el uso del espacio en los contenedores, como para los clientes, que pueden reducir sus costos de envío.

Por otro lado, la empresa enfrenta la limitación de realizar pocos envíos en un periodo de tiempo determinado debido a un proceso logístico previo que complica la previsión de disponibilidad de los productos. Generalmente, la empresa opta por aprovechar aquellos productos que se disponen más rápidamente para preparar los envíos. Los clientes, por su parte, no presentan inconvenientes en postergar el envío de productos cuyo tiempo de fabricación es más prolongado.

Debido a esta situación específica, la empresa opta por llenar los contenedores de forma manual. Esto implica que los operadores humanos son responsables de cargar los paquetes en el contenedor de manera eficiente, para esto, la empresa ha establecido un procedimiento específico que guía a los operadores en la colocación de los paquetes. Sin embargo, este procedimiento no está optimizado y no considera la disposición óptima de los paquetes en el contenedor, lo que resulta en una carga subóptima y un desperdicio de espacio.

Este procedimiento manual de carga forma una barrera para la optimización de la carga, por un lado, la empresa tiene que proponer a los clientes incrementar la cantidad de productos en sus pedidos para llenar completamente un contenedor, y por otro lado, los operadores humanos tienen que lograr acomodar los paquetes de tal modo que todas las cantidades propuestas por la empresa puedan ser cargadas en el contenedor. Entonces es necesario que antes de proponer a los clientes incrementar la cantidad de productos en sus pedidos, la empresa pueda optimizar la carga considerando las restricciones del llenado manual.

Respecto a las restricciones que se generan debido a la carga manual, se consideran las siguientes:

Los paquetes que son cajas de forma rectangular, pueden variar en tamaño, peso y valor, pero han sido concebidos previamente para que puedan ser cargados manualmente es decir que no son paquetes muy grandes o pesados.

Los paquetes que comparten el mismo tamaño, peso y valor estrictamente se consideran del mismo tipo, dos paquetes pueden tener el mismo tamaño y peso pero distinto valor, lo que los convierte en tipos diferentes. El valor de un paquete no depende de su tamaño o peso, es decir que un paquete sea más grande y pesado que otro no implica que sea de mayor valor y viceversa.

Los paquetes llegan a la puerta del contenedor agrupados por tipo y en un orden específico, los paquetes pueden apilarse unos sobre otros independientemente de su tipo ya que las cajas lo soportan y sus pesos no son muy disparejos, pero se debe asegurar la estabilidad de la carga. Por ejemplo en el la Figura \ref{fig:paquetes_apilados} se muestra un ejemplo de cómo se apila un tipo de paquete encima de otro.

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/paquetes_apilados.svg}
    \caption{Ejemplo de cómo se apila un tipo de paquete encima de otro.}
    \label{fig:paquetes_apilados}
\end{figure}

Para asegurar la estabilidad de la carga, por ejemplo un paquete más grande no puede estar encima de uno más pequeño, es decir un paquete siempre debe tener una base sobre la que se apoye, en la Figura \ref{fig:paquetes_mal_apilados} se muestra un ejemplo de una carga inestable.

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/paquetes_mal_apilados.svg}
    \caption{Ejemplo de una carga inestable.}
    \label{fig:paquetes_mal_apilados}
\end{figure}

Para facilitar la carga manual se considera de que todos los paquetes de un mismo tipo deben mantener la misma orientación, es decir que no se pueden colocar paquetes de un mismo tipo en diferentes orientaciones, por ejemplo en la Figura \ref{fig:paquetes_mal_orientados} se muestra un ejemplo de cómo no se deben colocar los paquetes, ya que dificultaría al operador humano seguir dicho procedimiento, además que aumentaría el riesgo de desperdiciar espacio o de que la carga sea inestable.

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/paquetes_mal_orientados.svg}
    \caption{Ejemplo de cómo los paquetes de un mismo tipo tienen distinta orientación.}
    \label{fig:paquetes_mal_orientados}
\end{figure}

Muchas de las cajas están diseñadas para ser apiladas y soportar un gran peso encima siempre y cuando se respete la indicación de mantener una posición mirando hacia arriba, por lo que los paquetes solo pueden ser girados en un eje, por ejemplo en la Figura \ref{fig:paquetes_girados} se muestra un mismo tipo de paquete girado en un eje.

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/paquetes_girados.svg}
    \caption{Ejemplo de cómo los paquetes de un mismo tipo pueden ser girados en un eje.}
    \label{fig:paquetes_girados}
\end{figure}

Para evitar la fatiga del operador de levantar los paquetes, la empresa suele usar cintas o bandas transportadoras, para aprovechar su uso, esto implica que los paquetes deben ser colocados en primer lugar lo más profundo posible del contenedor, es decir que los paquetes que están siendo cargados, deben ser colocados en la parte más alejada de la puerta del contenedor, de este modo también se evita que los paquetes obstruyan el ingreso del operador humano al contenedor. En la Figura \ref{fig:cinta_transportadora} se muestra un ejemplo de cómo se puede hacer uso de una cinta transportadora que desliza los paquetes hacia el fondo del contenedor, mientras el contenedor se va llenando la cinta se va moviendo en sentido contrario.

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/cinta_transportadora.svg}
    \caption{Ejemplo del uso de una cinta transportadora.}
    \label{fig:cinta_transportadora}
\end{figure}

La empresa ha implementado un procedimiento específico para guiar a los operadores en la colocación de paquetes dentro del contenedor, con el objetivo de cumplir con todas las condiciones preestablecidas. No obstante, este procedimiento aún no está optimizado y no garantiza la disposición óptima de los paquetes, lo que conduce a una carga subóptima y al desperdicio de espacio.

El desafío que se enfrenta es conocer con anticipación la cantidad de paquetes por tipo que deben cargarse en el contenedor para poder proponer a los clientes incrementar la cantidad de productos en sus pedidos, así como definir el orden de carga y la rotación de cada tipo de paquete. El objetivo es lograr una disposición que no solo cumpla con las restricciones de espacio y los requerimientos del llenado manual, sino que también maximice la eficiencia en el uso del espacio y el valor económico de la carga transportada.

\subsection{Definición formal del problema}

El problema de la carga manual de paquetes en un contenedor se define formalmente de la siguiente manera:

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/container.svg}
    \caption{Contenedor con dimensiones $W$, $L$, $H$}
    \label{fig:container}
\end{figure}

Siendo un contenedor una caja de forma rectangular, de ancho $W$, largo $L$, alto $H$, en la figura \ref{fig:container} se muestra un contenedor con sus dimensiones, y una capacidad de carga $P$, se tiene definido unos tipos de paquetes también de formas rectangulares $t \in T = \{0, 1, 2, \ldots, n\}$, donde cada tipo $t$ posee ciertas dimensiones de ancho $w_t$, largo $l_t$, alto $h_t$, también posee un peso $p_t$ y un valor $v_t$, además se conoce la cantidad deseada por un cliente de paquetes por cada tipo $q_t$ que un contenedor puede tener.

En este problema, consideramos que $W$, $L$, $H$ y $P$ , $w_t$, $l_t$, $h_t$, $p_t$, $q_t$ son enteros positivos, los cuales podrían ser representados en unidades de medida centímetros, milímetros, kilogramos, litros, entre otros.

\begin{figure}[H]
    \centering
    \includesvg[width=0.5\textwidth]{Figures/rotation.svg}
    \caption{Rotación de un paquete en el eje $x$}
    \label{fig:rotation}
\end{figure}

Se tienen restricciones de rotación debido al enfoque de carga manual, en el cual se establece que $\forall r \in r_t, r \in \{0, 1\}, t \in T$ donde $0$ representa que el tipo no se encuentra girado y $1$ que el tipo está girado 90 grados en el eje $x$, esto se puede ver en la figura \ref{fig:rotation} a) sin rotación y b) con rotación. Esto implica que los anchos y largos pueden intercambiarse, mientras que la altura no puede ser modificada.

Por otro lado para facilitar la carga manual, se debe disponer de un orden de carga $o_t$ para cada tipo $t$, donde $o_t \in O = \{0, 1, 2, \ldots, n\}$, que indica el orden en el que se debe cargar cada tipo de paquete en el contenedor.

El problema consiste en determinar la cantidad de paquetes por cada tipo a cargar $\tilde{q}_t$ (la cual se encuentra en torno a la cantidad deseada por tipo, $\tilde{q}_t ~ q_t$) y el orden de carga de cada tipo $o_t$ con determinada rotación $r_t$, de tal modo que se pueda obtener la disposición óptima de los paquetes en el contenedor, asegurando el cumplimiento de las restricciones relacionadas al espacio disponible. Además, se busca maximizar el costo de la carga y al mismo tiempo la utilización del espacio del contenedor.
